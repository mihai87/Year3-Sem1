<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Proiect Sincretic 2019 - Informatizare cabinet medical</title>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
<div class="topbar">
	<select id="bloguriexistente" style="display:none" class="form-control">
	</select>
	<button type="button" class="btn btn-primary" id="resetblogslist" style="display:none">Reset</button>
</div><br />
<div class="meniusicontinut">
	<div class="meniu">
		<div class="btn-group-vertical">
		  <button type="button" class="btn btn-primary" id="adaugamedic"><b>+</b> Medic</button>
		  <button type="button" class="btn btn-primary" id="adaugacontractmedic"><b>+</b> Contract Medic</button>
		  <button type="button" class="btn btn-primary" id="adaugainterventie"><b>+</b> Interventii</button>
		  <button type="button" class="btn btn-primary" id="adaugapacient"><b>+</b> Fisa pacient</button>
		  <button type="button" class="btn btn-primary" id="adaugaconsultatie"><b>+</b> Consultatie</button>
		  <button type="button" class="btn btn-primary" id="adaugaincasare"><b>+</b> Incasare</button>
		  <button type="button" class="btn btn-primary" id="adaugaplatamedic"><b>+</b> Plata Medic</button>
		  <button type="button" class="btn btn-primary" id="adaugaprogramare"><b>+</b> Programare</button>
		</div>
	</div>
	<div class="continut"> 
		<!--<div class="loader" style="display:none"></div>-->
		<div id = "formular_ad_medic" style = "display: none;">
			<input type="text" id="cnpmedic" placeholder="CNP Medic" class="form-control"/>
			<input type="text" id="numemedic" placeholder="Nume Medic" class="form-control"/>
			<input type="text" id="prenumemedic" placeholder="Prenume Medic" class="form-control"/>	
			<select id="zinastere" class="form-control">
				<option value="0" disabled selected>Zi Nastere</option>
				<script>
					for(var i=1; i<=31; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="lunanastere" class="form-control">
				<option value="0" disabled selected>Luna Nastere</option>
				<script>
					for(var i=1; i<=12; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="annastere" class="form-control">
				<option value="0" disabled selected>An Nastere</option>
				<script>
					var date = new Date();
					var an_maxim = date.getFullYear()-28 <!-- consideram ca un medic are minim 28 de ani-->
					var an_minim = an_maxim - 52 <!-- consideram ca un medic va profesa pana la maxim 80 de ani-->
					for(var i=an_minim; i<=an_maxim; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			</br>Detalii carte identitate medic: </br></br>
			<input type="text" id="seriecimedic" placeholder="Serie Carte Identitate Medic" class="form-control"/>
			<input type="text" id="numarcimedic" placeholder="Numar Carte Identitate Medic" class="form-control"/>
			</br>Adresa medic: </br></br>
			<input type="text" id="stradamedic" placeholder="Strada Medic" class="form-control"/>
			<input type="text" id="nrstradamedic" placeholder="Numar Strada Medic" class="form-control"/>
			<input type="text" id="blocmedic" placeholder="Bloc Medic" class="form-control"/>
			<input type="text" id="scaramedic" placeholder="Scara Medic" class="form-control"/>
			<input type="text" id="apmedic" placeholder="Apartament Medic" class="form-control"/>
			<input type="text" id="orasmedic" placeholder="Oras Medic" class="form-control"/><br />
			<button type="button" class="btn btn-primary" id="adaugamedicfinal">Inregistrare Medic</button>
			<br />
		</div>
		
		<div id = "formular_contract_medic" style = "display: none;">
			<select id="medic" class="form-control">
				<option value="0" disabled selected>Alege medicul pentru care se realizeaza contractul</option>
			</select>
			<input type="text" id="telefonmedic" placeholder="Telefon Medic" class="form-control"/>
			<input type="text" id="emailmedic" placeholder="Email Medic" class="form-control"/>
			<select id="ziangajare" class="form-control">
				<option value="0" disabled selected>Zi Angajare</option>
				<script>
					for(var i=1; i<=31; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="lunaangajare" class="form-control">
				<option value="0" disabled selected>Luna Angajare</option>
				<script>
					for(var i=1; i<=12; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="anangajare" class="form-control">
				<option value="0" disabled selected>An Angajare</option>
				<script>
					var date = new Date();
					var an_maxim = date.getFullYear()+1 
					var an_minim = an_maxim - 5
					for(var i=an_minim; i<=an_maxim; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<input type="text" id="salariumedic" placeholder="Salariu Medic (RON)" class="form-control"/>
			<button type="button" class="btn btn-primary" id="finaladaugacontractmedic">Inregistrare Contract Medic</button>
			<br />
		</div>
		
		<div id = "formular_ad_interventie" style = "display: none;">
			<input type="text" id="numeinterventie" placeholder="Denumire Interventie" class="form-control"/>
			<input type="text" id="costmateriale" placeholder="Cost Materiale Interventie" class="form-control"/>
			<input type="text" id="tarif" placeholder="Tarif Materiale Interventie" class="form-control"/>	
			<button type="button" class="btn btn-primary" id="adaugainterventiefinal">Inregistrare Interventie</button>
			<br />
		</div>
		
		<div id = "formular_ad_pacient" style = "display: none;">
			<input type="text" id="numepacient" placeholder="Nume Pacient" class="form-control"/>
			<input type="text" id="prenumepacient" placeholder="Prenume Pacient" class="form-control"/>	
			<select id="zinasterepacient" class="form-control">
				<option value="0" disabled selected>Zi Nastere</option>
				<script>
					for(var i=1; i<=31; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="lunanasterepacient" class="form-control">
				<option value="0" disabled selected>Luna Nastere</option>
				<script>
					for(var i=1; i<=12; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="annasterepacient" class="form-control">
				<option value="0" disabled selected>An Nastere</option>
				<script>
					var date = new Date();
					var an_maxim = date.getFullYear()-4 <!-- consideram ca un pacient are minim 4 de ani-->
					var an_minim = an_maxim - 86 <!-- consideram varsta unui pacient maxim 90 de ani-->
					for(var i=an_minim; i<=an_maxim; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			</br>Adresa Pacient: </br></br>
			<input type="text" id="stradapacient" placeholder="Strada Pacient" class="form-control"/>
			<input type="text" id="nrstradapacient" placeholder="Numar Strada Pacient" class="form-control"/>
			<input type="text" id="blocpacient" placeholder="Bloc Pacient" class="form-control"/>
			<input type="text" id="scarapacient" placeholder="Scara Pacient" class="form-control"/>
			<input type="text" id="appacient" placeholder="Apartament Pacient" class="form-control"/>
			<input type="text" id="oraspacient" placeholder="Oras Pacient" class="form-control"/><br />
			<input type="text" id="telefonpacient" placeholder="Telefon Pacient" class="form-control"/><br />
			<button type="button" class="btn btn-primary" id="adaugapacientfinal">Inregistrare Fisa Pacient</button>
			<br />
		</div>
		
		<div id = "formular_ad_consultatie" style = "display: none;">
			<select id="pacientconsultat" class="form-control">
				<option value="0" disabled selected>Alege pacientul pentru care se face consultatia</option>
			</select>
			<select id="medic_consultant" class="form-control">
				<option value="0" disabled selected>Alege medicul care a realizat consultatia</option>
			</select>
			<select id="interventie_consultatie" class="form-control">
				<option value="0" disabled selected>Alege interventia de la consultatie</option>
			</select>
			<input type="text" id="observatiiconsultatie" placeholder="Observatii Consultatii" class="form-control"/>	
			<button type="button" class="btn btn-primary" id="adaugaconsultatiefinal">Inregistrare Consultatie</button>
			<br />
		</div>
		
		<div id = "formular_ad_incasare" style = "display: none;">
			<select id="pacientincasat" class="form-control">
				<option value="0" disabled selected>Alege pacientul pentru care se face incasarea</option>
			</select>
			<select id="consultatie_platita" class="form-control">
				<option value="0" disabled selected>Alege consultatia pentru care se realizeaza plata</option>
			</select>
			<input type="text" id="valoareconsultatie" placeholder="Valoare plata (RON)" class="form-control"/>	
			<button type="button" class="btn btn-primary" id="incasarepacientfinal">Inregistrare Plata</button>
			<br />
		</div>
		
		<div id = "formular_ad_plata_medic" style = "display: none;">
			<select id="medic_platit" class="form-control">
				<option value="0" disabled selected>Alege medicul pentru care se realizeaza plata</option>
			</select>
			<input type="text" id="valoarebonus" placeholder="Valoare bonus (RON)" class="form-control"/>
			<input type="text" id="valoareplata" placeholder="Valoare plata incluzand bunusul (RON)" class="form-control"/>			
			<button type="button" class="btn btn-primary" id="adaugaincasarefinal">Inregistrare Plata Medic</button>
			<br />
		</div>
		
		<div id = "formular_ad_programare" style = "display: none;">
			<select id="ziprogramare" class="form-control">
				<option value="0" disabled selected>Zi Programare</option>
				<script>
					for(var i=1; i<=31; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="lunaprogramare" class="form-control">
				<option value="0" disabled selected>Luna Programare</option>
				<script>
					for(var i=1; i<=12; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="anprogramare" class="form-control">
				<option value="0" disabled selected>An Programare</option>
				<script>
					var date = new Date();
					var an_maxim = date.getFullYear()+1
					var an_minim = date.getFullYear()
					for(var i=an_minim; i<=an_maxim; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="oraprogramare" class="form-control">
				<option value="0" disabled selected>Ora Programare</option>
				<script>
					for(var i=1; i<=23; i++){
						document.write("<option value='" + i + "'>" + i + "</option>")
					}
				</script>
			</select>
			<select id="minutprogramare" class="form-control">
				<option value="0" disabled selected>Ora Programare</option>
				<option value="1" >00</option>
				<option value="2" >30</option>
			</select>
			<select id="medic_programare" class="form-control">
				<option value="0" disabled selected>Alege medicul la care se face programarea</option>
			</select>
			<select id="pacient_programat" class="form-control">
				<option value="0" disabled selected>Alege pacientul pentru care se face programarea</option>
			</select>
			<button type="button" class="btn btn-primary" id="adaugaprogramarefinal">Inregistrare Programare</button>
			<br />
		</div>
		
	</div>
</div>
				
<script>
	
$("#adaugamedic").click(function(){
	$("#formular_ad_medic").css('display','block');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');

});
	
$("#adaugacontractmedic").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','block');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');
	$("#medic").empty();
	$("#medic").append('<option value="0" disabled selected>Alege medicul pentru care se realizeaza contractul</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "medici_existenti.php",
      success: function(response) {
				var medici = JSON.parse(response);
				var i = 0;
				while(medici[i]){
					$("#medic").append('<option value="' + medici[i].cnp_medic + '">' + medici[i].prenume_medic + ' ' + medici[i].nume_medic + '</option>');
					i = i + 1;
				}
			}
		});			
			
	
});
	
$("#adaugainterventie").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','block');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');
	$("#formular_ad_programare").css('display','none');
});
	
$("#adaugapacient").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','block');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');

});

$("#adaugaconsultatie").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','block');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');
	
	$("#pacientconsultat").empty();
	$("#pacientconsultat").append('<option value="0" disabled selected>Alege pacientul pentru care se face consultatia</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "pacienti_existenti.php",
      success: function(response) {
				var pacienti = JSON.parse(response);
				var i = 0;
				while(pacienti[i]){
					$("#pacientconsultat").append('<option value="' + pacienti[i].numar_fisa + '">' + pacienti[i].prenume_pacient + ' ' + pacienti[i].nume_pacient + '</option>');
					i = i + 1;
				}
			}
		});	
	
	$("#medic_consultant").empty();
	$("#medic_consultant").append('<option value="0" disabled selected>Alege medicul care a realizat consultatia</option>');
		
	$.ajax({
      type: "POST",
	  async: "false",
      url: "medici_existenti.php",
      success: function(response) {
				var medici = JSON.parse(response);
				var i = 0;
				while(medici[i]){
					$("#medic_consultant").append('<option value="' + medici[i].cnp_medic + '">' + medici[i].prenume_medic + ' ' + medici[i].nume_medic + '</option>');
					i = i + 1;
				}
			}
		});	
	
	
	$("#interventie_consultatie").empty();
	$("#interventie_consultatie").append('<option value="0" disabled selected>Alege interventia de la consultatie</option>');
		
	$.ajax({
      type: "POST",
	  async: "false",
      url: "interventii_existente.php",
      success: function(response) {
				var interventii = JSON.parse(response);
				var i = 0;
				while(interventii[i]){
					$("#interventie_consultatie").append('<option value="' + interventii[i].tip_interventie + '">' + interventii[i].tip_interventie + ' ' + interventii[i].tarif_interventie + '</option>');
					i = i + 1;
				}
			}
		});	
	
	
});
	
$("#adaugaincasare").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','block');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','none');
	
	$("#consultatie_platita").empty();
	$("#consultatie_platita").append('<option value="0" disabled selected>Alege consultatia pentru care se realizeaza plata</option>');

	$("#pacientincasat").empty();
	$("#pacientincasat").append('<option value="0" disabled selected>Alege pacientul pentru care se face incasarea</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "pacienti_existenti.php",
      success: function(response) {
				var pacienti = JSON.parse(response);
				var i = 0;
				while(pacienti[i]){
					$("#pacientincasat").append('<option value="' + pacienti[i].numar_fisa + '">' + pacienti[i].prenume_pacient + ' ' + pacienti[i].nume_pacient + '</option>');
					i = i + 1;
				}
			}
		});	


	
	
});
	
$("#adaugaplatamedic").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','block');
	$("#formular_ad_programare").css('display','none');
	$("#medic_platit").empty();
	$("#medic_platit").append('<option value="0" disabled selected>Alege medicul pentru care se realizeaza plata</option>');
		
	$.ajax({
      type: "POST",
	  async: "false",
      url: "medici_existenti.php",
      success: function(response) {
				var medici = JSON.parse(response);
				var i = 0;
				while(medici[i]){
					$("#medic_platit").append('<option value="' + medici[i].cnp_medic + '">' + medici[i].prenume_medic + ' ' + medici[i].nume_medic + '</option>');
					i = i + 1;
				}
			}
		});	
});
	
$("#adaugaprogramare").click(function(){
	$("#formular_ad_medic").css('display','none');
	$("#formular_contract_medic").css('display','none');
	$("#formular_ad_interventie").css('display','none');
	$("#formular_ad_pacient").css('display','none');
	$("#formular_ad_consultatie").css('display','none');
	$("#formular_ad_incasare").css('display','none');
	$("#formular_ad_plata_medic").css('display','none');
	$("#formular_ad_programare").css('display','block');
	$("#medic_programare").empty();
	$("#medic_programare").append('<option value="0" disabled selected>Alege medicul la care se face programarea</option>');
	$("#pacient_programat").empty();
	$("#pacient_programat").append('<option value="0" disabled selected>Alege pacientul pentru care se face programarea</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "medici_existenti.php",
      success: function(response) {
				var medici = JSON.parse(response);
				var i = 0;
				while(medici[i]){
					$("#medic_programare").append('<option value="' + medici[i].cnp_medic + '">' + medici[i].prenume_medic + ' ' + medici[i].nume_medic + '</option>');
					i = i + 1;
				}
			}
		});	
	
	$("#pacient_programat").empty();
	$("#pacient_programat").append('<option value="0" disabled selected>Alege pacientul pentru care se face programarea</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "pacienti_existenti.php",
      success: function(response) {
				var pacienti = JSON.parse(response);
				var i = 0;
				while(pacienti[i]){
					$("#pacient_programat").append('<option value="' + pacienti[i].numar_fisa + '">' + pacienti[i].prenume_pacient + ' ' + pacienti[i].nume_pacient + '</option>');
					i = i + 1;
				}
			}
		});	
	
});

//urmeaza scripturile pentru scrierea in baza de date
$('#adaugamedicfinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_medic.php",
	  data:{
			'cnpmedic': $('#cnpmedic').val(),
			'numemedic': $('#numemedic').val(),
			'prenumemedic': $('#prenumemedic').val(),
			'zinastere': $('#zinastere').val(),
			'lunanastere': $('#lunanastere').val(),
			'annastere': $('#annastere').val(),
			'seriecimedic': $('#seriecimedic').val(),
			'numarcimedic': $('#numarcimedic').val(),
			'stradamedic': $('#stradamedic').val(),
			'nrstradamedic': $('#nrstradamedic').val(),
			'blocmedic': $('#blocmedic').val(),
			'scaramedic': $('#scaramedic').val(),
			'apmedic': $('#apmedic').val(),
			'orasmedic': $('#orasmedic').val()
			},
      success: function(response) {
			if(response==1){
				alert('Medicul a fost adaugat in baza de date!');
			}else{
				alert(response);
			}
	  }
    });
});
	
	
	
	
//adaugare interventie in baza de date
	
$('#adaugainterventiefinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_interventie.php",
	  data:{
			'numeinterventie': $('#numeinterventie').val(),
			'costmateriale': $('#costmateriale').val(),
			'tarif': $('#tarif').val(),
			},
      success: function(response) {
			if(response==1){
				alert('Adaugare interventie reusita');
			}else{
				alert(response);
			}
	  }
    });
});
	
	
//adaugare fisa pacient in baza de date
	
$('#adaugapacientfinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_fisa_pacient.php",
	  data:{
		    'numepacient': $('#numepacient').val(),
		    'prenumepacient': $('#prenumepacient').val(),
		    'zinasterepacient': $('#zinasterepacient').val(),
		    'lunanasterepacient': $('#lunanasterepacient').val(),
            'annasterepacient': $('#annasterepacient').val(),
		    'stradapacient': $('#stradapacient').val(),
		    'nrstradapacient': $('#nrstradapacient').val(),
		  	'blocpacient': $('#blocpacient').val(),
		  	'scarapacient': $('#scarapacient').val(),
		  	'appacient': $('#appacient').val(),
		  	'oraspacient': $('#oraspacient').val(),
		  	'telefonpacient': $('#telefonpacient').val()
			},
      success: function(response) {
			if(response==1){
				alert('Adaugare fisa pacient reusita');
			}else{
				alert(response);
			}
	  }
    });
});

$('#finaladaugacontractmedic').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_contract_medic.php",
	  data:{
		    'cnpmedic': $('#medic').val(),
		    'telefonmedic': $('#telefonmedic').val(),
		    'emailmedic': $('#emailmedic').val(),
		    'ziangajare': $('#ziangajare').val(),
            'lunaangajare': $('#lunaangajare').val(),
		    'anangajare': $('#anangajare').val(),
		    'salariumedic': $('#salariumedic').val()},
      success: function(response) {
			if(response==1){
				alert('Adaugare contract medic reusita');
			}else{
				alert(response);
			}
	  }
    });
});

// Adauga programare
	
$('#adaugaprogramarefinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_programare.php",
	  data:{
			'ziprogramare': $('#ziprogramare').val(),
			'lunaprogramare': $('#lunaprogramare').val(),
			'anprogramare': $('#anprogramare').val(),
			'oraprogramare': $('#oraprogramare').val(),
			'minutprogramare': $('#minutprogramare').val(),
			'medic_programare': $('#medic_programare').val(),
			'pacient_programat': $('#pacient_programat').val(),
			},
      success: function(response) {
			if(response==1){
				alert('Programarea a fost adaugat in baza de date!');
			}else{
				alert(response);
			}
	  }
    });
});

	// Adauga plata medic

$('#adaugaplatamedicfinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_plata_medic.php",
	  data:{
		 	'cnpmedic': $('#medic_platit').val(),
			'valoarebonus': $('#valoarebonus').val(),
			'valoareplata': $('#valoareplata').val(),
			},
      success: function(response) {
			if(response==1){
				alert('Plata medic a fost adaugata in baza de date!');
			}else{
				alert(response);
			}
	  }
    });
});

// Adauga consultatie

$('#adaugaconsultatiefinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "adauga_consultatie.php",
	  data:{
		 	'pacientconsultat': $('#pacientconsultat').val(),
			'medic_consultant': $('#medic_consultant').val(),
			'interventie_consultatie': $('#interventie_consultatie').val(),
			'observatiiconsultatie': $('#observatiiconsultatie').val(),
			},
      success: function(response) {
			if(response==1){
				alert('Consultatia a fost adaugata in baza de date!');
			}else{
				alert(response);
			}
	  }
    });
});
	
	
	
	
	// Transmitere fise pacient catre baza de date si returnarea doar consultatiilor aferente acelei fise de pacient
	
$('#pacientincasat').change(function(){

	$("#consultatie_platita").empty();
	$("#consultatie_platita").append('<option value="0" disabled selected>Alege consultatia pentru care se realizeaza plata</option>');
	
	$.ajax({
      type: "POST",
	  async: "false",
      url: "selectie_consultatii.php",
	  data:{
		 	'pacientincasat': $('#pacientincasat').val(),
			},
      success: function(response) {
				var consultatii = JSON.parse(response);
				var i = 0;
				while(consultatii[i]){
					$("#consultatie_platita").append('<option value="' + consultatii[i].id_consultatie + '">' + consultatii[i].data_intocmire + ': ' + consultatii[i].tip_interventie + ' Restant: ' + consultatii[i].diferenta + ' (RON)</option>');
					i = i + 1;
				}
			}
		});	
});
	
// Adauga incasare

	$('#incasarepacientfinal').click(function(){
	$.ajax({
      type: "POST",
	  async: "false",
      url: "inregistrare_plata.php",
	  data:{
		 	'consultatie_platita': $('#consultatie_platita').val(),
			'valoareconsultatie': $('#valoareconsultatie').val(),
			},
      success: function(response) {
			if(response==1){
				alert('Plata de catre pacient a fost adaugata in baza de date!');
			}else{
				alert(response);
			}
	  }
    });
});

</script>
</body>
</html>
